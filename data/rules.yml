version: "3.1"

rules:
  - rule: Greet the user
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_ask_symptoms

  - rule: Ask about specific symptoms
    condition:
      - slot_was_set:
          - disease_prediction: null
    steps:
      - action: action_predict_disease
      - action: action_suggest_next_symptom

  - rule: Confirm prediction if confident
    condition:
      - slot_was_set:
          - prediction_confidence: "high"   # Set by ActionPredictDisease if confidence >= 0.75
    steps:
      - action: action_show_disease_info
      - action: utter_goodbye
