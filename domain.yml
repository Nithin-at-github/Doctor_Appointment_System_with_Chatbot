version: "3.1"

intents:
  - greet
  - provide_symptom
  - affirm
  - deny
  - goodbye

entities:
  - symptom

slots:
  confirmed_symptoms:
    type: list
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: symptom
        list: true
      - type: from_text
        intent: provide_symptom

  remaining_symptoms:
    type: list
    influence_conversation: false
    initial_value: []
    mappings:
      - type: from_trigger_intent
        intent: provide_symptom
        value: "$"

  disease_prediction:
    type: text
    influence_conversation: true
    mappings:
      - type: from_trigger_intent
        intent: provide_symptom
        value: "$"

  prediction_confidence:
    type: float
    influence_conversation: true
    mappings:
      - type: from_trigger_intent
        intent: provide_symptom
        value: "$"

responses:
  utter_greet:
    - text: "Welcome to the Disease Prediction Chatbot! How can I help you?"

  utter_ask_symptoms:
    - text: "Please tell me your symptoms."

  utter_ask_next_symptom:
    - text: "Do you have {next_symptom}?"

  utter_disease_prediction:
    - text: "Based on your symptoms, the predicted disease is: {disease_prediction} with confidence: {prediction_confidence:.2f}."

  utter_goodbye:
    - text: "Goodbye! Take care."

actions:
  - action_predict_disease
  - action_suggest_next_symptom
  - action_show_disease_info
